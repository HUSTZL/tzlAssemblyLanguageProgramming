.386
DATA SEGMENT USE16
BUF		DW	1000H, 1000H, 2000H
OUT1    DB  '1 has been changed', 0DH, 0AH, '$'
OUT2    DB  '2 has been changed', 0DH, 0AH, '$'
OUT3    DB  '3 has been changed', 0DH, 0AH, '$'
DATA ENDS

STACK SEGMENT USE16 STACK
		DW	100 DUP(0)
STACK ENDS

CODE SEGMENT USE16
	ASSUME CS:CODE, SS:STACK, DS:DATA
START:	MOV AX, DATA
		MOV DS, AX
		MOV AX, STACK
		MOV SS, AX
		MOV AX, BUF
		CMP AX, BUF+2
		JE	DIF3
		CMP AX, BUF+4
		JE	DIF2
		LEA DX, OUT1
		MOV AH, 9H
		INT 21H
		JMP EXIT
DIF2:	LEA DX, OUT2
		MOV AH, 9H
		INT 21H
		JMP EXIT
DIF3:	LEA DX, OUT3
		MOV AH, 9H
		INT 21H
EXIT:	MOV AH, 4CH
		INT 21H
		
OUTPUT MACRO TOOUT
		PUSHA
		PUSHF
		LEA DX, TOOUT
		MOV AH, 9H
		INT 21H
		POPF
		POPA
		ENDM
CODE ENDS
	END START
		
